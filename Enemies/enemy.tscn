[gd_scene load_steps=16 format=3 uid="uid://5ta0amf11so"]

[ext_resource type="Script" uid="uid://pg04uubvmxy6" path="res://enemy.gd" id="1_3ih25"]
[ext_resource type="Texture2D" uid="uid://d24kv6tv4vpq8" path="res://Art/lunarbat.png" id="2_bxkaj"]
[ext_resource type="Texture2D" uid="uid://bcwbsln0qvyne" path="res://Art/enemybarund.png" id="3_572h1"]
[ext_resource type="Texture2D" uid="uid://dttl0hhgdt5gc" path="res://Art/enemybarprog.png" id="4_rt1x0"]
[ext_resource type="PackedScene" uid="uid://bpryymutquy6e" path="res://Shooters/shooter.tscn" id="5_gk8ng"]
[ext_resource type="PackedScene" uid="uid://c5ikuems7oqdn" path="res://Objects/bullet.tscn" id="6_4o6mh"]
[ext_resource type="Script" uid="uid://b8qwh4iduupyl" path="res://Shooters/shooter_res.gd" id="7_gk8ng"]
[ext_resource type="Script" uid="uid://dffyrkj5y36t5" path="res://Shooters/bullet_res.gd" id="7_koi6q"]
[ext_resource type="PackedScene" uid="uid://bptlwpb18i373" path="res://Shooters/spread_shooter.tscn" id="9_koi6q"]
[ext_resource type="Script" uid="uid://ckwfyt5tuuuen" path="res://Shooters/spiral_shooter.gd" id="10_jlnat"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_47qgu"]
size = Vector2(32, 30)

[sub_resource type="Resource" id="Resource_koi6q"]
script = ExtResource("7_koi6q")
damage = 5.0
proc = 1.0
lifetime = 10.0
velocity = Vector2(0, 100)
acceleration = Vector2(0, 0)
metadata/_custom_type_script = "uid://dffyrkj5y36t5"

[sub_resource type="Resource" id="Resource_4o6mh"]
script = ExtResource("7_gk8ng")
spawn_node = ExtResource("6_4o6mh")
spawn_res = SubResource("Resource_koi6q")
start_delay = 0.0
spawn_delay = -1.0
velocity = Vector2(100, 0)
acceleration = Vector2(0, 0)
fix_accel = false
offset = Vector2(0, 0)
aimed = false
num_shots = -1
carry_node = ExtResource("6_4o6mh")
metadata/_custom_type_script = "uid://b8qwh4iduupyl"

[sub_resource type="Resource" id="Resource_jlnat"]
script = ExtResource("7_koi6q")
damage = 10.0
proc = 1.0
lifetime = 10.0
velocity = Vector2(-100, 0)
acceleration = Vector2(0, 100)
metadata/_custom_type_script = "uid://dffyrkj5y36t5"

[sub_resource type="Resource" id="Resource_t8uwx"]
script = ExtResource("7_koi6q")
damage = 10.0
proc = 1.0
lifetime = 10.0
velocity = Vector2(0, 0)
acceleration = Vector2(10, 0)
metadata/_custom_type_script = "uid://dffyrkj5y36t5"

[node name="Enemy" type="CharacterBody2D" node_paths=PackedStringArray("hp_bar")]
collision_layer = 2
collision_mask = 5
script = ExtResource("1_3ih25")
hp_bar = NodePath("HealthBar")
metadata/_custom_type_script = "uid://pfrh7u2ltx2"

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("2_bxkaj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_47qgu")

[node name="HealthBar" type="TextureProgressBar" parent="."]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -8.0
offset_top = -20.0
offset_right = 8.0
offset_bottom = -17.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
value = 100.0
texture_under = ExtResource("3_572h1")
texture_progress = ExtResource("4_rt1x0")

[node name="Shooter" parent="." node_paths=PackedStringArray("shooter") instance=ExtResource("5_gk8ng")]
spawn_node = ExtResource("5_gk8ng")
spawn_res = SubResource("Resource_4o6mh")
shooter = NodePath("..")
spawn_delay = -1.0
aimed = true

[node name="SpreadShooter" parent="." node_paths=PackedStringArray("shooter") instance=ExtResource("9_koi6q")]
spread_angle = 270.0
spawn_num = 4
spawn_node = ExtResource("6_4o6mh")
spawn_res = SubResource("Resource_jlnat")
shooter = NodePath("..")
spawn_delay = -1.0
fix_accel = true
num_shots = 5

[node name="SpiralShooter" type="Node2D" parent="." node_paths=PackedStringArray("shooter")]
script = ExtResource("10_jlnat")
spawn_node = ExtResource("6_4o6mh")
spawn_res = SubResource("Resource_t8uwx")
shooter = NodePath("..")
spawn_delay = 0.1
metadata/_custom_type_script = "uid://ckwfyt5tuuuen"
