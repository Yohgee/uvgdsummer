[gd_scene load_steps=11 format=3 uid="uid://dyav3bbvbgjcb"]

[ext_resource type="Script" uid="uid://pg04uubvmxy6" path="res://enemy.gd" id="1_kmmox"]
[ext_resource type="Texture2D" uid="uid://dyptcvetdbfr" path="res://Art/Enemies/sunwarrior.png" id="2_kmmox"]
[ext_resource type="Texture2D" uid="uid://bcwbsln0qvyne" path="res://Art/enemybarund.png" id="3_urxhk"]
[ext_resource type="Texture2D" uid="uid://dttl0hhgdt5gc" path="res://Art/enemybarprog.png" id="4_4w8rc"]
[ext_resource type="Script" uid="uid://cwmq5xi11tvhm" path="res://Enemies/fly_movement.gd" id="5_p61b4"]
[ext_resource type="PackedScene" uid="uid://bpryymutquy6e" path="res://Shooters/shooter.tscn" id="6_qrd1i"]
[ext_resource type="PackedScene" uid="uid://jermn5el3ebk" path="res://Shooters/fallingsunspear.tscn" id="7_kmmox"]
[ext_resource type="Script" uid="uid://dffyrkj5y36t5" path="res://Shooters/bullet_res.gd" id="8_lk4bs"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dgqpm"]
size = Vector2(32, 32)

[sub_resource type="Resource" id="Resource_dgqpm"]
script = ExtResource("8_lk4bs")
damage = 12.0
proc = 1.0
lifetime = 10.0
velocity = Vector2(500, 0)
acceleration = Vector2(0, 100)
pierce = 2
metadata/_custom_type_script = "uid://dffyrkj5y36t5"

[node name="Sunwarrior" type="CharacterBody2D" node_paths=PackedStringArray("hp_bar", "statuses")]
collision_layer = 2
collision_mask = 5
script = ExtResource("1_kmmox")
hp_bar = NodePath("HealthBar")
statuses = NodePath("HBoxContainer")
base_speed = 250
metadata/_custom_type_script = "uid://pfrh7u2ltx2"

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("2_kmmox")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_dgqpm")

[node name="HealthBar" type="TextureProgressBar" parent="."]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -8.0
offset_top = -20.0
offset_right = 8.0
offset_bottom = -17.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
value = 100.0
texture_under = ExtResource("3_urxhk")
texture_progress = ExtResource("4_4w8rc")

[node name="FlyMovement" type="Node2D" parent="." node_paths=PackedStringArray("entity", "shooters", "spr")]
script = ExtResource("5_p61b4")
entity = NodePath("..")
shooters = [NodePath("Shooter")]
range_diff = 50.0
sin_ratio = 0.3
spr = NodePath("../Sprite2D")

[node name="Shooter" parent="FlyMovement" node_paths=PackedStringArray("shooter") instance=ExtResource("6_qrd1i")]
spawn_node = ExtResource("7_kmmox")
spawn_res = SubResource("Resource_dgqpm")
shooter = NodePath("../..")
start_delay = 0.1
spawn_delay = 2.5
fix_accel = true
aimed = true

[node name="HBoxContainer" type="HBoxContainer" parent="."]
offset_left = -8.0
offset_top = -35.0
offset_right = 8.0
offset_bottom = -25.0
